syntax = "proto3";

package replica_replica;

service ReplicaReplicaGrpc {
    rpc PrePrepare (PrePrepareReq) returns (Empty) {}
    rpc Prepare (SignedMessage) returns (Empty) {}
    rpc Commit (SignedMessage) returns (Empty) {}
    rpc RelayRequest (SignedMessage) returns (Empty) {}
    // TODO: checkoint might remove for storing all logs
    rpc Checkpoint (SignedMessage) returns (Empty) {}
}

message PrePrepareReq {
    SignedMessage preprepare = 1;
    bytes client_message = 2;
}

message SignedMessage {
    bytes message = 1;
    bytes signature = 2;
}

message Empty {
}
